<!DOCTYPE html>
<html>
<script src='https://d3js.org/d3.v5.min.js'></script>
<head>
<title>Page Title</title>
<style>
.myDivHeader {
  border: 5px outset red;
  background-color: lightblue;
  text-align: center;
}
.myDivLineChart {
  border: 5px outset black;
  background-color: white;
  text-align: center;
}
.myDivBarChart {
  border: 5px outset green;
  background-color: white;
  text-align: center;

}
circle {fill: lightblue; stroke: black;} 
rect {fill: lightblue; stroke: black; }
</style>
</head>

<body onload="init()">
<div class="myDivHeader">
  <h2>Visualization of Covid Cases in United States by STATE and County</h2>
  <p> Select the states to see the trends</p>
</div>

<div class="myDivLineChart" >
  <h2>This is for chart </h2>
  <p> Chart details</p>
  <svg width=300 height=300>
  </svg>
  <script>                  
    async function init() {
        const data = await d3.csv('https://raw.githubusercontent.com/SathishRama/srama.github.io/master/data.csv');               
        xdomain = ['7/1/2020','7/2/2020','7/3/2020','7/4/2020','7/5/2020'];

        xdomain = ['7/1/2020','7/2/2020','7/3/2020','7/4/2020','7/5/2020'];
        xs = d3.scaleBand().domain(xdomain).range([0,200]);
        ys = d3.scaleLinear().domain([0,20]).range([200,0]);
              
        console.log(data) 

        d3.select(".myDivLineChart").select("svg").append("g")
          .attr("transform","translate(50,50)")
          .call(d3.axisLeft(ys));
        d3.select(".myDivLineChart").select("svg").append("g")
          .attr("transform","translate(50,250)")
          .call(d3.axisBottom(xs));
        d3.select(".myDivLineChart").select("svg")
          .append('g').attr("transform","translate(50,50)")
          .selectAll('rect')
          .data(data)
          .enter()
          .append('rect')
            .attr('x',function(d,i) {return xs(d.date)})
            //.attr('y',function(d,i) {return ys(d.counts)})
            .attr('y',function(d,i) {return ys((d.counts))})
            .attr('width',xs.bandwidth())
            .attr('height',function(d) {return (200 - ys((d.counts)))});      
  }    
  </script>
</div>

<div class=  myDivBarChart>
  <h2>This is for Bar chart </h2>
  <svg width=300 height=300>
  
    <script>
    async function init1() {
        const data = await d3.csv('https://raw.githubusercontent.com/SathishRama/srama.github.io/master/data.csv');
                
        xdomain = ['7/1/2020','7/2/2020','7/3/2020','7/4/2020','7/5/2020'];
        xs = d3.scaleBand().domain(xdomain).range([0,200]);
        ys = d3.scaleLinear().domain([0,20]).range([200,0]);
              
        //console.log(data) 

        d3.select(".myDivBarChart").select("svg").append("g")
          .attr("transform","translate(50,50)")
          .call(d3.axisLeft(ys));
        d3.select(".myDivBarChart").select("svg").append("g")
          .attr("transform","translate(50,250)")
          .call(d3.axisBottom(xs));
        d3.select(".myDivBarChart").select("svg")
          .append('g').attr("transform","translate(50,50)")
          .selectAll('rect')
          .data(data)
          .enter()
          .append('rect')
            .attr('x',function(d,i) {return xs(d.date)})
            //.attr('y',function(d,i) {return ys(d.counts)})
            .attr('y',function(d,i) {return ys((d.counts))})
            .attr('width',xs.bandwidth())
            .attr('height',function(d) {return (200 - ys((d.counts)))});   
    
    }
    </script>
  </svg>
</div>


</body>
</html>